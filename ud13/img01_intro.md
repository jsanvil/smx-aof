UD13: Imatge digital

# 1 Formats i resoluci√≥ d'imatges

## üéØ Objectius

- Con√©ixer els conceptes b√†sics utilitzats en el tractament digital de la imatge.
- Con√©ixer els tipus d'imatges digitals.
- Elements d'una imatge digital: resoluci√≥, grand√†ria, profunditat de color i modes de color.
- Familiaritzar-se amb l'entorn de treball de *GIMP*. Aprendre a personalitzar l'entorn al nostre gust.
- Identificar els principals elements de la interf√≠cie d'usuari.
- Localitzar el sistema d'ajuda del programa.

---

# 1.1 Tractament digital d'imatges

En l'actualitat, el desenvolupament tecnol√≤gic ha possibilitat un enorme avan√ß en el m√≥n de la fotografia. Les c√†meres digitals, els ordinadors i els programes de retoc fotogr√†fic permeten un ventall de possibilitats impensable tan sols fa uns pocs anys.

El tractament o processament digital correspon al conjunt de t√®cniques aplicades a les imatges digitals amb l'objectiu de millorar la qualitat, afegir efectes, realitzar muntatges o facilitar la cerca d'informaci√≥.

En aquesta unitat introduirem alguns dels conceptes b√†sics que s'han de con√©ixer per a comen√ßar a treballar en el m√≥n del tractament d'imatges. En els seg√ºents apartats definirem conceptes com a p√≠xel, mapa de bits, imatge vectorial i els elements d'una imatge digital.

---

# 1.2 Elements b√†sics. P√≠xel

Wikipedia ens diu: ‚ÄúUn p√≠xel o pixel (acr√≤nim de l'angl√©s *picture element*, "element d'imatge") √©s la menor unitat homog√®nia en color que forma part d'una imatge digital, ja siga aquesta una fotografia, un fotograma de v√≠deo o un gr√†fic. Ampliant prou una imatge digital (zoom), per exemple en la pantalla d'un ordinador, poden observar-se els p√≠xels que componen la imatge. Els p√≠xels apareixen com a xicotets quadrats o rectangles en color, en blanc o en negre, o en matisos de gris. Les imatges es formen com una matriu rectangular de p√≠xels, on cada p√≠xel forma una √†rea relativament xicoteta respecte a la imatge total‚Äù.

En definitiva, la imatge d'una pantalla d'ordinador √©s com un mosaic amb un n√∫mero de *pixels* en horitzontal i en vertical. Quan es diu que la pantalla t√© una resoluci√≥ de 800 x 600 o 1024 x 768, la primera xifra indica el n√∫mero de *pixels* en horitzontal que tindr√† l'escriptori i la segona xifra els *pixels* en vertical.

Pixelat en fer zoom:

![Exemple de p√®rdua de qualitat en ampliar un detall de la imatge rasteritzada](https://upload.wikimedia.org/wikipedia/commons/2/2b/Pixel-example.png)

# 1.3. Tipus d'imatges

Podem dividir els tipus d'imatges digitals en dues: imatges de mapa de bits i imatges vectorials. Abans de veure els tipus d'imatges, introduirem el concepte de p√≠xel, fonamental per a entendre el funcionament de la fotografia digital.

![Raster vs Vector](https://upload.wikimedia.org/wikipedia/commons/6/6b/Bitmap_VS_SVG.svg)

---

## 1.3.1. Imatges de mapa de bits

Normalment, els arxius de les imatges es guarden en forma de mapa de bits (mapa de bits en angl√©s) o mosaic de p√≠xels. Per exemple, els esc√†ners i c√†meres digitals creen imatges en aquest format. Aquest tipus d'imatges estan formades per una matriu de punts o raster (una forma quadrangular amb un nombre de p√≠xels en horitzontal i en vertical). Cada p√≠xel guarda la informaci√≥ de color de la part d'imatge que ocupa.

El principal inconvenient que presenten aquesta classe d'arxius √©s el de l'ampliaci√≥: quan un arxiu s'amplia molt, es distorsiona la imatge, mostrant-se el mosaic amb els *p√≠ixels* i una degradaci√≥ en els colors arribant a aquest efecte *pixelaci√≥* a causa de la deformaci√≥ de la fotografia.

![The Gunk](https://upload.wikimedia.org/wikipedia/commons/7/71/The_Gunk_699px.png)

---

## 1.3.2. Imatges vectorials

Wikipedia ens indica que √©s una ‚Äúimatge digital formada per objectes geom√®trics independents (segments, pol√≠gons, arcs, etc.), cadascun d'ells definit per diferents atributs matem√†tics de forma, de posici√≥, de color, etc. Per exemple, un cercle de color roig quedaria definit per la posici√≥ del seu centre, el seu radi, el gruix de l√≠nia i el seu color‚Äù. Dit d'una altra manera, es tracta d'imatges formades per multitud de vectors que guarden la seua informaci√≥ mitjan√ßant expressions matem√†tiques.

El principal avantatge d'aquestes imatges √©s que es poden reduir i ampliar sense perdre qualitat perqu√® els tra√ßos es redibuixen en canviar de grand√†ria. Per tant, es poden moure, estirar, retor√ßar, etc., de manera senzilla amb les aplicacions que treballen aquest tipus de gr√†fics. A m√©s, aquesta classe d'arxius ocupen molta menys mem√≤ria que les imatges de mapa de bits.

Dibuix vectorial:

![Tux](https://upload.wikimedia.org/wikipedia/commons/3/35/Tux.svg)

---

# 1.4. Propietats de la imatge

## 1.4.1. Resoluci√≥

La resoluci√≥ representa la quantitat de detall que pot observar-se en una imatge, b√© siga obtinguda mitjan√ßant esc√†ner, c√†mera de fotos o impresa. Aquesta quantitat es mesura en ppp (p√≠xels o punts per polzada) o en angl√©s *dpi* (*dots per inch*). L√≤gicament, tindre major resoluci√≥ es tradueix a obtindre una imatge amb m√©s detall o qualitat visual.

![Image dpi](https://upload.wikimedia.org/wikipedia/commons/f/f2/Resolution_illustration.png)

>Recordem que 1 polzada = 2,54 cm.

Per a les imatges digitals emmagatzemades com a mapa de bits, la convenci√≥ √©s descriure la resoluci√≥ de la imatge amb dos nombres enters, on el primer √©s la quantitat de columnes de p√≠xels (quants p√≠xels t√© la imatge a l'ample) i el segon √©s la quantitat de files de p√≠xels (quants p√≠xels t√© la imatge a l'alt). Per exemple:

![Image resolution](img/UD13_ImageResolution.png)

---

### 1.4.1.1. Resoluci√≥ de pantalla

Representa el nombre de p√≠xels per polzada (ppp) que √©s capa√ß de mostrar un monitor d'ordinador. La resoluci√≥ de pantalla ve donada pel producte de l'ample per l'alt, mesurats tots dos en p√≠xels, amb el que s'obt√© una relaci√≥, anomenada relaci√≥ d'aspecte. Aquesta relaci√≥ d'aspecte pot variar, ja que est√† d'acord a la forma del monitor i de la targeta gr√†fica. Per aix√≤, es poden diferenciar dues grand√†ries de pantalla:

![Resoluci√≥ de pantalla](https://upload.wikimedia.org/wikipedia/commons/e/e5/Vector_Video_Standards2.svg)

Grand√†ria absoluta: l'ampl√†ria i altura de la finestra del monitor, mesurat generalment en polzades. Dep√©n del monitor.
Resoluci√≥ o grand√†ria relativa: ve determinada pel nombre de p√≠xels que es mostren en la finestra del monitor. Dep√©n de la targeta gr√†fica.

---

### 1.4.1.2. Resoluci√≥ d'una c√†mera digital

La qualitat de resoluci√≥ de les c√†meres digitals s'expressa en **Megap√≠xels**. Per exemple, una c√†mera de 12MP pot prendre una fotografia amb 12 milions de p√≠xels. Per a saber quina √©s la resoluci√≥ d'una c√†mera digital hem de con√©ixer els p√≠xels d'ample x alt als quals √©s capa√ß d'obtindre una imatge.

*Exemples:*

P√≠xels | Resoluci√≥
-|-
1600 x 1200 | 1600x1200 = 1.920.000 p√≠xels, √©s a dir 2 MP
2816x2112 | 2816x2112 = 5.947.392 p√≠xels, √©s a dir 6 MP

---

### 1.4.1.3. Resoluci√≥ d'impressi√≥

En una impressora, es refereix al nombre de punts per polzada (ppp) als quals es pot imprimir una imatge digital de qualitat. A partir de 200ppp podem dir que la resoluci√≥ d'impressi√≥ √©s bona, i si volem assegurar-nos, hem d'aconseguir els 300ppp perqu√® moltes vegades l'√≤ptica de la c√†mera, la neteja de l'objectiu o el processador d'imatges de la c√†mera digital disminueixen la qualitat.

---

### 1.4.1.4. Resoluci√≥ d'escanejat

Dep√©n dels components de l'esc√†ner i dels par√†metres als quals volem escanejar. El m√≠nim solen ser imatges escanejades amb una resoluci√≥ per defecte de 200ppp.

---

## 1.4.2. Grand√†ria

Tipus | Significat
-|-
**Grand√†ria digital** | La grand√†ria digital √©s el **nombre de p√≠xels** (ample x alt) que formen una imatge digital. S'expressa en Megap√≠xels (milions de p√≠xels).
**Grand√†ria f√≠sica** | √âs la grand√†ria f√≠sica d'una **imatge impresa**; √©s a dir, s√≥n les dimensions reals en termes d'ampl√†ria i altura una vegada impresa. Se sol expressar en cent√≠metres o polzades.
**Grand√†ria d'arxiu** | Fa refer√®ncia a la quantitat de **mem√≤ria f√≠sica** necess√†ria per a guardar una imatge digital en un suport inform√†tic d'emmagatzematge (disc dur, mem√≤ria USB, mem√≤ria RAM, etc.).

---

## 1.4.3. Profunditat de color

La profunditat de color es refereix al nombre de bits necessaris per a codificar i guardar la informaci√≥ de color de cada p√≠xel en una imatge. Com m√©s gran siga la profunditat de color en bits, la imatge disposar√† d'una paleta de colors m√©s √†mplia i, en conseq√º√®ncia, es representar√† millor.

Un bit √©s una posici√≥ de mem√≤ria que pot tindre el valor 0 o 1. En la taula seg√ºent podem comprovar el nombre de colors possibles segons el nombre de bits de profunditat de color.

Profunditat (bits) | N√∫m. de colors
---|---
1  | 2 (blanc i negre) (0=color negre, 1= color blanc)
2  | 4 (00=color negre, 01=color X, 10=color I, 11=color blanc)
4  | 16
8  | 256
16 | 65536
24 | 16,7 milions
32 | 4294 milions

---

# 1.5. Modes de color

Els modes de color defineixen el sistema que utilitzem per a descriure els colors en un entorn determinat. Un model de colors √©s un model matem√†tic abstracte que permet representar els colors en forma num√®rica, utilitzant t√≠picament tres o quatre valors o components crom√†tics.

Els modes de color m√©s comuns s√≥n: escala de grisos, indexat, *RGB*, *HSV* i *CMYK*.

---

## 1.5.1. Escala de grisos

Una escala de grisos √©s una escala emprada en la imatge digital en la qual el valor de cada p√≠xel posseeix un valor equivalent a una graduaci√≥ de grisa. Les imatges representades d'aquest tipus estan compostes d'ombres de grisos.

![Grayscale](https://upload.wikimedia.org/wikipedia/commons/f/fa/Grayscale_8bits_palette_sample_image.png)

---

## 1.5.2. Indexat

En aquest model, podem especificar els colors amb els quals treballarem amb un m√†xim de 256 colors. Utilitza un canal de color indexat de 8 bits.

![Indexed color](https://upload.wikimedia.org/wikipedia/commons/c/ce/Screen_color_test_VGA_16colors.png)

---

## 1.5.3. RGB

RGB (sigles en angl√©s de *Red, Green, Blue*, en valenci√† RVA "roig, verd i blau") √©s un model de color basat en la s√≠ntesi additiva, amb el qual √©s possible representar un color mitjan√ßant la mescla per addici√≥ dels tres colors de llum primaris.

![RGB](https://upload.wikimedia.org/wikipedia/commons/c/ce/Barn_grand_tetons_rgb_separation.jpg)

La intensitat de cadascuna de les components es mesura segons una escala que va del 0 al 255 i cada color √©s definit per un conjunt de valors escrits entre par√®ntesis (corresponents a valors "R", "G" i "B") i separats per comes.

D'aquesta manera, el roig s'obt√© amb (255,0,0), el verd amb (0,255,0) i el blau amb (0,0,255), obtenint, en cada cas un color resultant monocrom√†tic. L'abs√®ncia de color, √©s a dir el color negre, s'obt√© quan les tres components s√≥n 0: (0,0,0).

![RGB](https://upload.wikimedia.org/wikipedia/commons/1/12/RGB_sliders.svg)

---

## 1.5.4. HSV/HSB

El model ***HSV*** (de l'angl√©s *Hue, Saturation, Value*), tamb√© anomenat ***HSB*** (*Hue, Saturation, **Brightness***), defineix un model de color en termes dels seus components. Est√† basat en la manera en qu√® l'ull hum√† percep el color, per tant es tracta del mode m√©s "natural".

***Hue*** (Tonalitat). √âs el valor del color: roig, blau, verd, etc. Es representa com un grau d'angle els valors possibles del qual van de 0 a 360¬∞ (encara que per a algunes aplicacions es normalitzen del 0 al 100%). Cada valor correspon a un color. Exemples: 0 √©s roig, 60 √©s groc i 120 √©s verd.

***Saturation*** (Saturaci√≥). Es refereix a la puresa del color i va del 0% al 100%. Quant menor siga la saturaci√≥ d'un color, major tonalitat grisenca hi haur√† i m√©s descolorit estar√†.

***Value******Brightness*** (Lluminositat). Refer√®ncia la intensitat de llum del color, √©s a dir, la quantitat de negre o blanc que cont√©. Els valors possibles van del 0 al 100%. 0 sempre √©s negre. Depenent de la saturaci√≥, 100 podria ser blanc o un color m√©s o menys saturat.

![HSV](https://upload.wikimedia.org/wikipedia/commons/1/1b/Triangulo_HSV.png)

---

## 1.5.5 CMYK

***CMYK*** (sigles de *Cyan*, *Magenta*, *Yellow* i *Key*) √©s un model de color sustractiu que s'utilitza en la impressi√≥ d'imatges en colors. √âs la versi√≥ moderna i m√©s precisa de l'antic model tradicional de coloraci√≥ (RYB), que s'utilitza encara en pintura i arts pl√†stiques. Permet representar una gamma de colors m√©s √†mplia que aquest √∫ltim, i t√© una millor adaptaci√≥ als mitjans industrials.

Aquest model es basa en la mescla de pigments dels seg√ºents colors per a crear altres m√©s:

![CMYK](https://upload.wikimedia.org/wikipedia/commons/4/4c/CMYK_color_swatches.svg)

C = *Cyan* (Cian). M = *Magenta* (Magenta). I = *Yellow* (Groc). K = *Black* o *Key* (Negre).

![CMYK Image](https://upload.wikimedia.org/wikipedia/commons/3/3c/SubtractiveColorSynthesis_CMYK_2.jpg)

---

## 1.5.6. Usos i colors

Els modes *RGB* (roig, verd i blau), escala de grisos i indexat estan indicats per a imatges el dest√≠ de les quals siga una pantalla d'ordinador. Per contra, en el cas que una imatge vaja a ser impresa, podem utilitzar la manera *CMYK*, que √©s la manera de color utilitzat per les impressores.

Un *pixel* solament pot ser d'un color; quan diem que una imatge √©s de 256 colors, aix√≤ indica que un p√≠xel pot tindre un d'aquests 256 colors. Perqu√® una imatge tinga m√©s de 256 colors ha de treballar en mode *RGB* en el qual un p√≠xel pot ser la combinaci√≥ d'un dels 256 nivells de roig, 256 nivells de blau i 256 nivells de verd (256 x 256 x 256 = 16.777.216 colors; per aix√≤ es diu que una imatge *RGB* pot tindre milions de colors). Quants m√©s colors tinga una imatge m√©s ocupar√† l'arxiu que la cont√©.

En general, els programes de retoc fotogr√†fic treballen en mode *RGB*, perqu√® s'adapta b√© a la pantalla. No obstant aix√≤, √©s possible convertir la imatge a escala de grisos o al mode indexat, per√≤ cal tindre present que si una imatge es guarda en escala de grisos o indexat ja no es poden recuperar tots els colors en revertir-la al mode *RGB*. √âs aconsellable mantindre una c√≤pia del treball en mode *RGB*.

---

# 1.6 Programa de retoc d'imatges de GNU - *GIMP*

![Wilber](https://docs.gimp.org/2.10/en/images/using/wilber.png)

El *GIMP* √©s una eina de retoc fotogr√†fic multiplataforma. El *GIMP* √©s un acr√≤nim de ***GNU Image Manipulation Program***. Al *GIMP* es poden dur a terme tota mena de tasques de retoc d'imatges, incloent-hi el retoc fotogr√†fic, la composici√≥ i la creaci√≥ d'imatges.

El *GIMP* t√© moltes capacitats. Es pot usar com un senzill programa de pintura, un programa de retoc fotogr√†fic professional, un sistema en l√≠nia de proc√©s per lots, un generador d'imatges per a producci√≥ en s√®rie, un convertidor de formats d'imatges, etc.

El *GIMP* √©s ampliable i extensible. Est√† dissenyat per ampliar-se amb connectors i extensions. La interf√≠cie avan√ßada de scripts permet automatitzar des de les tasques m√©s simples fins als procediments m√©s complexos de manipulaci√≥ d'imatges.

Un dels punts forts del *GIMP* √©s la seva lliure disponibilitat des de diverses fonts per a molts sistemes operatius. Gaireb√© totes les distribucions de GNU/Linux inclouen el *GIMP* com una aplicaci√≥ est√†ndard. El *GIMP* tamb√© est√† disponible per a altres sistemes operatius com *Microsoft Windows‚Ñ¢* o *Mac OS X‚Ñ¢(Darwin)* d'*Apple*. El *GIMP* √©s una aplicaci√≥ de programari lliure coberta per la Llic√®ncia P√∫blica General [GPL](https://www.gnu.org/licenses/gpl-3.0.html). La GPL ofereix als usuaris la llibertat d'accedir i modificar el codi font amb qu√® es construeixen els programes.

üìÑ [Documentaci√≥ oficial GIMP](https://docs.gimp.org/2.10/ca/)

---

## 1.6.1 [Finestres principals](https://docs.gimp.org/2.10/ca/gimp-concepts-main-windows.html)

![Finestres principals](https://docs.gimp.org/2.10/ca/images/using/single-window.png)

---

## 1.6.2 El sistema d'ajuda del *GIMP*

L'Equip de Documentaci√≥ del *GIMP* i altres usuaris us proporcionen la informaci√≥ necess√†ria per entendre com usar el *GIMP*. El manual d'usuari √©s una part important d'aquest document. La versi√≥ actual es troba en el lloc web de l'Equip de Documentaci√≥ [GIMP-DOCS](https://www.gimp.org/docs/) en format *HTML*. La versi√≥ *HTML* tamb√© est√† disponible com a ajuda contextual mentre es fa servir el *GIMP* prement la tecla `F1`. Es pot accedir a l'ajuda d'elements espec√≠fics del men√∫ prement `F1` mentre el punter del ratol√≠ enfoca en aquest element.

# Activitat 1: Introducci√≥ a GIMP

Per a treballar en classe descarregarem una versi√≥ portable de *GIMP*

- [Desc√†rrega GIMP 2.10.25 AppImage](https://github.com/aferrero2707/gimp-appimage/releases/download/continuous/GIMP_AppImage-git-2.10.25-20210610-x86_64.AppImage)

- Guarda l'arxiu a l'escriptori i dona-li permiso d'execuci√≥.

Per a poder seguir les pr√†ctiques usarem la versi√≥ 2.10 de *GIMP* i l'idioma en angl√©s. Com som usuaris avan√ßats utilitzarem la *GIMP* en angl√©s, ja que la majoria de recursos i tutorials d'Internet utilitzen aquest llenguatge

- Obri *GIMP*, fent doble clic en el fitxer descarregat.
- Ve a `Edit` > `Preferences`, en Interface en l'apartat `Language` posa `English [en_US]`. Haurem de reinicia l'aplicaci√≥.

Modo ventana √∫nica.  En les √∫ltimes versions, per defecte la manera "Finestra √∫nica" que integra tots els panells d'eines i edici√≥ en una sola finestra.
Per√≤ si tenim una configuraci√≥ antiga emmagatzemada en el nostre perfil d'usuari, pot ser que ens apareguen els panells en finestres separades.

- Ve a `Windows` i comprova que l'opci√≥ `Wingle-Window mode` est√† marcada.

Ara canviarem l'opci√≥ de comentari per a posar el nostre nom en les nostres imatges.

- Ve a `Edit` > `Preferences`, en `Default Image` canvia el par√†metre `Comment` i posa el teu **nom i cognoms**.

---

- Descarrega la seg√ºent imatge:

![Tower Bridge 4k](img/Tower_Bridge_4K.jpg)

La imatge t√© unes dimensions de `3840x2160`, aquest tipus d'imatges es diuen ***4k*** perqu√® la seua ampl√†ria est√† pr√≤xima als 4000 *pixels*.

Anem a canviar la mida de la imatge a 640x360.

- Ve a Image > Scale image... i posa en *Width:* `640` i en *Height:* `360`, la resta d'opcions per defecte.
- Fes clic en `Scale` i espera que termine el process.

Ara la imatge es veur√† molt xicoteta, per√≤ podem adaptar el zoom.
Podem gastar diverses opcions:

- Tecla `1` per a 100%
- Tecles `+` i `-`
- Usar la roda del ratol√≠ amb la tecla `Ctrl`.
- Anar al men√∫ `View` > `Zoom...`

Ara transformarem la imatge voltejant-la horitzontalment.

- `Image` > `Transform` > `Flip Horizontally`

Guarda els canvis.
- `File` > `Save As...` i posa-li el nom `ud13_act1.xcf`

Exporta la imatge al format `jpg`
- `File` > `Export As...` posa-li el nom `ud13_act1.jpg`
- En `Quality` posa `55`
- En `Comment` posa el teu nom i cognoms

Exporta la imatge al format `png`
- `File` > `Export As...` posa-li el nom `ud13_act1.png`
- Deixa les opcions per defecte.

Lliura els arxius `xcf`, `jpg` i `png` creats.
